% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ivgmm_flex.R
\name{ivgmm_flex}
\alias{ivgmm_flex}
\title{Unified IV/GMM Estimation}
\usage{
ivgmm_flex(
  formula,
  data,
  method = c("2sls", "liml", "fuller", "gmm_twostep", "gmm_iterative", "cue"),
  vcov = c("classical", "robust", "HAC", "cluster", "bootstrap"),
  weights_matrix = "robust",
  HAC_kernel = c("bartlett", "parzen", "qs"),
  HAC_bw = "auto",
  fuller_alpha = 1,
  cluster = NULL,
  maxiter = 100,
  tol = 1e-08,
  latex = FALSE,
  ...
)
}
\arguments{
\item{formula}{Formula: \code{outcome ~ endogenous | instruments}.}

\item{data}{A data frame.}

\item{method}{\code{"2sls"}, \code{"liml"}, \code{"fuller"},
\code{"gmm_twostep"}, \code{"gmm_iterative"}, \code{"cue"}.}

\item{vcov}{\code{"classical"}, \code{"robust"}, \code{"HAC"},
\code{"cluster"}, \code{"bootstrap"}.}

\item{weights_matrix}{For GMM: \code{"identity"}, \code{"unadjusted"},
\code{"robust"}, \code{"HAC"}.}

\item{HAC_kernel}{\code{"bartlett"}, \code{"parzen"}, \code{"qs"}.}

\item{HAC_bw}{HAC bandwidth: numeric or \code{"auto"}.}

\item{fuller_alpha}{Fuller parameter (if \code{method = "fuller"}).}

\item{cluster}{Cluster variable name.}

\item{maxiter}{GMM max iterations.}

\item{tol}{GMM convergence tolerance.}

\item{latex}{If \code{TRUE}, prints a LaTeX table. Default: \code{FALSE}.}

\item{...}{Additional arguments.}
}
\value{
Object of class \code{c("ivgmm_flex", "ecoflex")} with
diagnostic tests (weak IV, Sargan-Hansen).
}
\description{
Estimate models with instrumental variables using 2SLS, LIML, Fuller,
or GMM with various weighting options.
}
\examples{
\donttest{
set.seed(42)
n <- 300; z <- rnorm(n)
x <- 0.5 * z + rnorm(n)
y <- 1 + 2 * x + rnorm(n)
df <- data.frame(y = y, x = x, z = z)
m <- ivgmm_flex(y ~ x | z, data = df, method = "2sls")
summary(m)
m$diagnostics$weak_iv_test
}
}
